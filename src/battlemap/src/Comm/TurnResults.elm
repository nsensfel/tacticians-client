module Comm.TurnResults exposing (decode)

-- Elm -------------------------------------------------------------------------
import Json.Decode

-- Battlemap -------------------------------------------------------------------
import Struct.ServerReply
import Struct.TurnResult

--------------------------------------------------------------------------------
-- TYPES -----------------------------------------------------------------------
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- LOCAL -----------------------------------------------------------------------
--------------------------------------------------------------------------------
internal_decoder : (List Struct.TurnResult.Type) -> Struct.ServerReply.Type
internal_decoder trl = (Struct.ServerReply.TurnResults trl)

--------------------------------------------------------------------------------
-- EXPORTED --------------------------------------------------------------------
--------------------------------------------------------------------------------
decode : (Json.Decode.Decoder Struct.ServerReply.Type)
decode =
   (Json.Decode.map
      (internal_decoder)
      (Json.Decode.field "cnt" (Json.Decode.list Struct.TurnResult.decoder))
   )
